<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<meta charset="UTF-8"/>
	<title>Inventory Item Form</title>
	<th:block th:include="static"/>
	<th:block th:include="script"/>
	<script th:inline="javascript">
		/*<![CDATA[*/
			$(function(){
				
				$("#facility").click(function(){
					$('#container').empty();
					$('#container').append($("<option value='0' selected>").html(""));
					
					var url = [[@{/containers/get/}]]+$(this).val();
					$.getJSON(url,function(facility){
						$.each(facility['containers'],function(){
							var opt = $('<option>').attr('value',this['value']).html(this['name']);
							$('#container').append(opt);
						})
					});
				});
			})
		/*]]>*/
	</script>
</head>
<body>
	<th:block th:include="menu"/>
	<div class="content ui-widget-content">
		<fieldset>
		<div class="rcrumbs" id="breadcrumbs">
        	<ul>
            	<li><a th:href="@{/inventoryitems/list}">Inventory Item Management</a><span class="divider">></span></li>
            	<li><a>Form</a></li>
        	</ul>
        </div>
		<form class="pure-form pure-form-aligned" th:action="@{/inventoryitems/edit}" method="post" th:object="${inventoryitem}">
			<div class="pure-control-group">
				<label>Product</label>
				<select th:field="*{productId}">
					<option th:each="product:${products}" th:value="${product.id}" th:text="${product.name}"/>
				</select>
			</div>
			<div class="pure-control-group">
				<label>On Hand</label>
				<input type="text" th:field="*{onhand}"/>
			</div>
			<div class="pure-control-group">
				<label>Facility</label>
				<select id="facility" th:field="*{facilityId}">
					<option th:each="facility:${facilitys}" th:value="${facility.id}" th:text="${facility.name}"/>
				</select>
			</div>
			<div class="pure-control-group">
				<label>Container</label>
				<select id="container" th:field="*{containerId}">
					<option th:value="*{containerId}" th:text="*{containerName}"/>
				</select>
			</div>
			<div class="pure-control-group">
				<label>Serial Number</label>
				<input type="text" th:field="*{serialNumber}"/>
			</div>
			<div class="pure-controls">
				<input type="hidden" th:field="*{id}"/>
				<button type="submit" autofocus="autofocus" class="pure-button pure-button-primary">Save</button>
			</div>
		</form>
		</fieldset>
	</div>
	<th:block th:include="footer"/>
</body>
</html>