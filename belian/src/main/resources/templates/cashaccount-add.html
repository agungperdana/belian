<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<meta charset="UTF-8"/>
	<title>Cash Account Form</title>
	<th:block th:include="static"/>
	<th:block th:include="script"/>
	<script th:inline="javascript">
		/*<![CDATA[*/
			$(function(){
				$("#currency").click(function(){
					$.get('/currencysrest/load/'+$(this).val(),function(obj){
						$('#currencyCode').val(obj.code);
					});
				});
				
				$("#owner").click(function(){
					$.get('/partysrest/load/'+$(this).val(),function(obj){
						$('#ownerName').val(obj.name);
					});
				});
			});
		/*]]>*/
	</script>
</head>
<body>
	<th:block th:include="menu"/>
	<div class="content ui-widget-content">
		<fieldset>
		<div class="rcrumbs" id="breadcrumbs">
        	<ul>
            	<li><a th:href="@{/cashaccounts/list}">Cash Account Management</a><span class="divider">></span></li>
            	<li><a>Form</a></li>
        	</ul>
        </div>
		<form class="pure-form pure-form-aligned" th:action="@{/cashaccounts/add}" method="post" th:object="${cashaccount}">
			<div class="pure-control-group">
				<label>Name</label>
				<input type="text" th:field="*{name}"/>
			</div>
			<div class="pure-control-group">
				<label>Number</label>
				<input type="text" th:field="*{number}"/>
			</div>
			<div class="pure-control-group">
				<label>Currency</label>
				<select id="currency" th:field="*{currencyId}">
					<option value="" selected="selected"></option>
					<option th:each="currency:${currencys}" th:value="${currency.id}" th:text="${currency.name}"/>
				</select>
				<input id="currencyCode" type="hidden" th:field="*{currencyCode}"/>
			</div>
			<div class="pure-control-group">
				<label>Owner</label>
				<select id="owner" th:field="*{ownerId}">
					<option value="" selected="selected"></option>
					<option th:each="owner:${owners}" th:value="${owner.id}" th:text="${owner.name}"/>
				</select>
				<input id="ownerName" type="hidden" th:field="*{ownerName}"/>
			</div>
			<div class="pure-controls">
				<button type="submit" autofocus="autofocus" class="pure-button pure-button-primary">Save</button>
			</div>
		</form>
		</fieldset>
	</div>
	<th:block th:include="footer"/>
</body>
</html>